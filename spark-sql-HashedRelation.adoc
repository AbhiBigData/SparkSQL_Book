== [[HashedRelation]] HashedRelation

`HashedRelation` is the <<contract, contract>> to...FIXME with link:spark-sql-KnownSizeEstimation.adoc[KnownSizeEstimation].

[[contract]]
[source, scala]
----
package org.apache.spark.sql.execution.joins

trait HashedRelation extends KnownSizeEstimation {
  // only required methods that have no implementation
  // the others follow
  def asReadOnlyCopy(): HashedRelation
  def close(): Unit
  def get(key: InternalRow): Iterator[InternalRow]
  def getAverageProbesPerLookup: Double
  def getValue(key: InternalRow): InternalRow
  def keyIsUnique: Boolean
}
----

NOTE: `HashedRelation` is a `private[execution]` contract.

.HashedRelation Contract
[cols="1,2",options="header",width="100%"]
|===
| Method
| Description

| [[getAverageProbesPerLookup]] `getAverageProbesPerLookup`
| Used when...FIXME
|===

=== [[apply]] Creating HashedRelation Instance -- `apply` Factory Method

[source, scala]
----
apply(
  input: Iterator[InternalRow],
  key: Seq[Expression],
  sizeEstimate: Int = 64,
  taskMemoryManager: TaskMemoryManager = null): HashedRelation
----

`apply`...FIXME

NOTE: `apply` is used when...FIXME
